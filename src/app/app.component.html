<!-- Editable table -->
<div class="card">
  <h3 class="card-header text-center font-weight-bold text-uppercase py-4">Editar Noticias</h3>
  <div class="card-body">
    <div id="table" class="table-editable">
     
      <button type="button" class="btn btn-primary  float-right mb-3 mr-2" data-toggle="modal" data-target="#staticBackdrop">
        Agregar
      </button>
      <table class="table table-bordered table-responsive-md table-striped text-center">
        <tr>
          <th class="text-center">Titulo</th>
          <th class="text-center">Autor</th>
          <th class="text-center">Fecha</th>
          <th class="text-center">Editar</th>
          <th class="text-center">Eliminar</th>
        </tr>
        <tr *ngFor="let person of personList; let id = index">
          <td>
            <span>{{person.titulo}}</span>
          </td>
          <td>
            <span>{{person.autor}}</span>
          </td>
          <td>
            <span>{{person.fecha|date}}</span>
          </td>

          <td>
            <button type="button"  (click)="openModal(person)"  class="btn btn-warning" data-toggle="modal" data-target="#staticBackdrop">
              Editar
            </button>
          </td>
          <td>
              <button type="button"   class="btn btn-danger" (click)="remove(id)">
                Eliminar  <fa-icon [icon]="faCoffee"></fa-icon>
              </button>
          </td>
        </tr>
      </table>
    </div>
  </div>
</div>

<!-- Button trigger modal -->


<!-- Modal -->


<div class="modal fade" id="staticBackdrop" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Modal title</h5>
        <button type="button" class="close" (click)="limpiar()" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <label class="mt-3" for="">Titulo</label>
        <input type="text"  class="form-control" [(ngModel)]="personEdit.titulo">
        <label class="mt-3" for="">Sumario</label>
        <input type="text" class="form-control" [(ngModel)]="personEdit.sumario" >
        <label class="mt-3" for="">lugar</label>
        <input type="text" class="form-control" [(ngModel)]="personEdit.lugar">
        <div class="row mt-3">
          <div class="col-md-4">
            <label for="">fecha</label> 
            <input type="date" class="form-control" [(ngModel)]="personEdit.fecha" [ngModel]='personEdit.fecha | date:"yyyy-MM-dd" ' (ngModelChange)='fecha=$event' >
          </div>
          <div class="col-md-5">
            <label  for="">autor</label>
            <input type="text" class="form-control" [(ngModel)]="personEdit.autor" >
          </div>
          <div class="col-md-3">
            <label  for="">relevate</label>
        <br>
        <input type="checkbox" id="subscribeNews" [(ngModel)]="personEdit.relevante" name="subscribe" checked="{{personEdit.relevante}}">
          </div>
        </div>
        <label class="mt-3"for="">Contenido</label>
        <textarea [(ngModel)]="personEdit.contenido"></textarea>
        <label class="mt-3" for="">Categoria</label>
        <input type="text" class="form-control" [(ngModel)]="personEdit.categoria.nombre">
        <div class="form-group mt-3">
          <label for="file">Nueva Imagen</label><br>
          <input type="file"
                 id="file"
                 (change)="handleFileInput($event.target.files)">
      </div>
        <hr>
        Galeria 
        <div class="row" *ngIf="personEdit.imagenes.length>0">
          <div class="col-4" *ngFor="let img of personEdit.imagenes; let id = index">
           <div class="image-area" >
            <img src="{{img.imagenUrl}}"   alt="Preview">
            <a class="remove-image" href="#" (click)="eliminar(personEdit.id,img.id)" style="display: inline;">&#215;</a>
          </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="limpiar()">Cerrar</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="RegisterNoticia()">Guardar</button>
      </div>
    </div>
  </div>
</div>
<!-- Editable table -->
